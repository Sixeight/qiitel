webpackJsonp([1],{"/aC4":function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=[].concat(a(e)),n=t.splice(Math.floor(Math.random()*t.length),1);return[i(n,1)[0],t]}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("2KeS"),c=n("KKqu"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("VbiM"),f=function(e){return e&&e.__esModule?e:{default:e}}(d),p=f.default.get("lastMode",s.listMode.track),m=f.default.get("lastAlbumMode",s.albumMode.collapsed),E={mode:p,albumMode:m,albumExpandMap:{}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments[1];switch(t.type){case s.CHANGE_LIST_MODE:return f.default.set("lastMode",t.mode),u({},e,{mode:t.mode});case s.CHANGE_ALBUM_MODE:return f.default.set("lastAlbumMode",t.mode),u({},e,{albumMode:t.mode,albumExpandMap:{}});case s.CHANGE_ALBUM_EXPANDED_SINGLE:var n=e.albumExpandMap;return u({},e,{albumExpandMap:u({},n,r({},t.collection_id,t.expanded))});default:return e}},v={currentTrack:null,playList:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u({},v),t=arguments[1];switch(t.type){case s.PLAY:return u({},e,{currentTrack:t.track,playList:[]});case s.PLAY_ALL:var n=l(t.tracks),a=i(n,2),r=a[0],o=a[1];return u({},e,{currentTrack:r,playList:o});case s.PLAY_NEXT:var c=l(e.playList),d=i(c,2),f=d[0],p=d[1];return f?u({},e,{currentTrack:f,playList:p}):e;case s.CLEAR:return u({},v);default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{index:0,tracks:[],active:!1},t=arguments[1];switch(t.type){case s.SWITCH_POINTER:return u({},e,{active:t.active});case s.MOVE_RESET:return u({},e,{active:!1,index:0});case s.MOVE_TO:return e.active?u({},e,{index:Math.min(Math.max(t.index,0),e.tracks.length-1)}):u({},e,{active:!0});case s.UPDATE_INDEX:return u({},e,{index:Math.min(Math.max(t.index,0),e.tracks.length-1)});case s.SETUP_LIST:return u({},e,{tracks:t.tracks});default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{names:[]},t=arguments[1];switch(t.type){case s.UPDATE_GENRES:return u({},e,{names:t.genreNames});default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shown:!1};switch(arguments[1].type){case s.TOGGLE_HELP:return{shown:!e.shown};default:return e}};t.default=(0,o.combineReducers)({list:h,play:_,pointer:b,genre:y,help:k})},"1olO":function(e,t,n){"use strict";function a(e,t){var n=function(e){return t&&(0,l.isValidElement)(e)?t(e):e},a=Object.create(null);return e&&l.Children.map(e,function(e){return e}).forEach(function(e){a[e.key]=n(e)}),a}function r(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var a=Object.create(null),r=[];for(var l in e)l in t?r.length&&(a[l]=r,r=[]):r.push(l);var i=void 0,u={};for(var o in t){if(a[o])for(i=0;i<a[o].length;i++){var c=a[o][i];u[a[o][i]]=n(c)}u[o]=n(o)}for(i=0;i<r.length;i++)u[r[i]]=n(r[i]);return u}t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=r;var l=n("GiK3")},"4JXe":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n("KSGD"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=n("8+5l"),d=a(s),f=n("A4of"),p=a(f),m=n("GiK3"),E=a(m),h=n("TAxY"),v=a(h),_=n("QzNM"),b=function(e,t){return t&&t.split(" ").forEach(function(t){return(0,d.default)(e,t)})},y=function(e,t){return t&&t.split(" ").forEach(function(t){return(0,p.default)(e,t)})},k=(u({},v.default.propTypes,{classNames:_.classNamesShape,onEnter:c.func,onEntering:c.func,onEntered:c.func,onExit:c.func,onExiting:c.func,onExited:c.func}),function(e){function t(){var n,a,i;r(this,t);for(var u=arguments.length,o=Array(u),c=0;c<u;c++)o[c]=arguments[c];return n=a=l(this,e.call.apply(e,[this].concat(o))),a.onEnter=function(e,t){var n=a.getClassNames(t?"appear":"enter"),r=n.className;a.removeClasses(e,"exit"),b(e,r),a.props.onEnter&&a.props.onEnter(e)},a.onEntering=function(e,t){var n=a.getClassNames(t?"appear":"enter"),r=n.activeClassName;a.reflowAndAddClass(e,r),a.props.onEntering&&a.props.onEntering(e)},a.onEntered=function(e,t){a.removeClasses(e,t?"appear":"enter"),a.props.onEntered&&a.props.onEntered(e)},a.onExit=function(e){var t=a.getClassNames("exit"),n=t.className;a.removeClasses(e,"appear"),a.removeClasses(e,"enter"),b(e,n),a.props.onExit&&a.props.onExit(e)},a.onExiting=function(e){var t=a.getClassNames("exit"),n=t.activeClassName;a.reflowAndAddClass(e,n),a.props.onExiting&&a.props.onExiting(e)},a.onExited=function(e){a.removeClasses(e,"exit"),a.props.onExited&&a.props.onExited(e)},a.getClassNames=function(e){var t=a.props.classNames,n="string"!=typeof t?t[e]:t+"-"+e;return{className:n,activeClassName:"string"!=typeof t?t[e+"Active"]:n+"-active"}},i=n,l(a,i)}return i(t,e),t.prototype.removeClasses=function(e,t){var n=this.getClassNames(t),a=n.className,r=n.activeClassName;a&&y(e,a),r&&y(e,r)},t.prototype.reflowAndAddClass=function(e,t){e.scrollTop,b(e,t)},t.prototype.render=function(){var e=u({},this.props);return delete e.classNames,E.default.createElement(v.default,u({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(E.default.Component));k.propTypes={},t.default=k,e.exports=t.default},"8+5l":function(e,t,n){"use strict";function a(e,t){e.classList?e.classList.add(t):(0,l.default)(e)||(e.className=e.className+" "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n("Hgtn"),l=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=t.default},A4of:function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},Hgtn:function(e,t,n){"use strict";function a(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,e.exports=t.default},KKqu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateGenres=t.fetchGenres=t.watchKeyboard=t.selectTrack=t.focus=t.toggleHelp=t.setupList=t.updateIndex=t.moveTo=t.moveReset=t.switchPointer=t.clear=t.playNext=t.playAll=t.play=t.collapseAlbumSingle=t.expandAlbumSingle=t.expandAlbum=t.collapseAlbum=t.changeListModeToAlbum=t.changeListModeToTrack=t.UPDATE_GENRES=t.TOGGLE_HELP=t.SETUP_LIST=t.UPDATE_INDEX=t.MOVE_TO=t.MOVE_RESET=t.SWITCH_POINTER=t.CLEAR=t.PLAY_NEXT=t.PLAY_ALL=t.PLAY=t.albumMode=t.listMode=t.CHANGE_ALBUM_EXPANDED_SINGLE=t.CHANGE_ALBUM_MODE=t.CHANGE_LIST_MODE=void 0,n("rplX");var a=n("MT/C"),r=t.CHANGE_LIST_MODE="change_list_mode",l=t.CHANGE_ALBUM_MODE="change_album_mode",i=t.CHANGE_ALBUM_EXPANDED_SINGLE="change_album_expanded_single",u=t.listMode={track:"track",album:"album"},o=t.albumMode={collapsed:"collapsed",expanded:"expnded"},c=t.PLAY="play",s=t.PLAY_ALL="play_all",d=t.PLAY_NEXT="play_next",f=t.CLEAR="clear",p=t.SWITCH_POINTER="switch_pointer",m=t.MOVE_RESET="move_reset",E=t.MOVE_TO="move_to",h=t.UPDATE_INDEX="update_index",v=t.SETUP_LIST="setup_list",_=t.TOGGLE_HELP="toggle_help",b=t.UPDATE_GENRES="fetch_genres",y=(t.changeListModeToTrack=function(){return y(u.track)},t.changeListModeToAlbum=function(){return y(u.album)},function(e){return{type:r,mode:e}}),k=(t.collapseAlbum=function(){return k(o.collapsed)},t.expandAlbum=function(){return k(o.expanded)},function(e){return{type:l,mode:e}}),g=(t.expandAlbumSingle=function(e){return g(e,!0)},t.collapseAlbumSingle=function(e){return g(e,!1)},function(e,t){return{type:i,collection_id:e,expanded:t}}),x=t.play=function(e){return{type:c,track:e}},T=t.playAll=function(e){return{type:s,tracks:e}},w=(t.playNext=function(){return{type:d}},t.clear=function(){return{type:f}}),N=t.switchPointer=function(e){return{type:p,active:e}},M=t.moveReset=function(){return{type:m}},A=t.moveTo=function(e){return{type:E,index:e}},O=t.updateIndex=function(e){return{type:h,index:e}},C=(t.setupList=function(e){return{type:v,tracks:e}},t.toggleHelp=function(){return{type:_}}),S=(t.focus=function(e){return function(){var t=e.offsetTop-window.innerHeight/2;window.scrollTo(0,t)}},t.selectTrack=function(e){return function(t,n){var a=n().app.pointer,r=a.tracks.indexOf(e);t(N(!1)),t(O(r))}},t.watchKeyboard=function(){var e=function(e){var t=e.app.list,n=e.app.pointer,a=n.index+1;if(t.mode===u.track||t.albumMode===o.expanded)return a;var r=n.tracks[n.index];return!r||t.albumExpandMap[r.collection_id]?a:a+n.tracks.slice(n.index+1).findIndex(function(e){return e.collection_id!==r.collection_id})},t=function(e){var t=e.app.list,n=e.app.pointer,a=n.index-1;if(t.mode===u.track||t.albumMode===o.expanded)return a;var r=n.tracks[n.index];if(!r)return a;var l=n.tracks.slice(0,n.index).reverse(),i=l.findIndex(function(e){return e.collection_id!==r.collection_id}),c=l[i];if(!c||t.albumExpandMap[c.collection_id])return a;var s=l.slice(i+1),d=s.findIndex(function(e){return e.collection_id!==c.collection_id}),f=0===i||!t.albumExpandMap[r.collection_id];return-1===d&&f?0:f?a-(i+d):a},n=function(e){var t=e.app.pointer,n=t.tracks[t.index];if(!n)return-1;var a=t.tracks.slice(0,t.index).reverse(),r=a.findIndex(function(e){return e.collection_id!==n.collection_id});return-1===r?0:t.index-r};return function(r,l){window.addEventListener("click",function(){l().app.pointer.active&&r(N(!1))}),window.addEventListener("keydown",function(i){var c=l().app,s=c.pointer,d=c.list;switch(i.code){case"KeyJ":r(A(e(l())));break;case"KeyK":r(A(t(l())));break;case"KeyP":if(i.shiftKey){var f=s.active&&s.tracks[s.index];if(f){var p=s.tracks.filter(function(e){return e.artist_id===f.artist_id});r(T(p));break}}r(T(s.tracks));break;case"Enter":var m=s.active&&s.tracks[s.index];if(!m)break;if(i.preventDefault(),i.shiftKey){var E=n(l()),h=s.tracks.slice(E),v=h.findIndex(function(e){return e.collection_id!==m.collection_id});r(T(h.slice(0,v)))}else r(x(m));break;case"Escape":case"Period":case"KeyS":r(w()),r(N(!1));break;case"Tab":r(N(!1));break;case"KeyL":var _=s.active&&s.tracks[s.index];if(_){var b=_.collection_id,O=d.albumExpandMap[b]||!1;r(g(b,!O)),r(A(n(l())))}break;case"KeyA":if(i.shiftKey){var S=d.albumMode===o.expanded?o.collapsed:o.expanded;r(k(S))}else{var P=d.mode===u.album?u.track:u.album;r(y(P))}r(N(!1));break;case"KeyT":window.scrollTo(0,0),r(M());break;case"KeyO":if(i.shiftKey){var L=c.play.currentTrack;L&&window.open(L.track_view_url+"&at=1010ldrf","_blank")}else{var I=s.active&&s.tracks[s.index];I&&window.open(I.track_view_url+"&at=1010ldrf","_blank")}break;case"KeyG":if(i.shiftKey)r((0,a.push)("/"));else{var G=s.active&&s.tracks[s.index];G&&r((0,a.push)("/genres/"+encodeURIComponent(G.genre_name)))}break;case"KeyM":if(i.shiftKey)r((0,a.push)("/"));else{var j=s.active&&s.tracks[s.index];j&&r((0,a.push)("/artists/"+encodeURIComponent(j.artist_name)+"/"+j.artist_id))}break;case"KeyU":if(i.shiftKey)r((0,a.push)("/"));else{var R=s.active&&s.tracks[s.index];R&&R.user&&r((0,a.push)("/users/"+encodeURIComponent(R.user.name)))}break;case"Slash":i.shiftKey&&r(C())}})}},t.fetchGenres=function(){return function(e){fetch("/api/genres").then(function(e){return e.json()}).then(function(t){return e(S(t.genre_names))}).catch(function(e){console.log(e)})}},t.updateGenres=function(e){return{type:b,genreNames:e}})},NF59:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return Array.isArray(e)?e:Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n("GiK3"),d=a(s),f=n("O27J"),p=a(f),m=n("2KeS"),E=n("RH2O"),h=n("MT/C"),v=n("4ufr"),_=a(v),b=n("UVf0"),y=n("ciQf"),k=a(y),g=n("gFN5"),x=n("TKwO"),T=a(x),w=n("PIAa");n("rplX");var N=n("F8kA");n("hvFc");var M=n("KKqu"),A=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(M),O=n("/aC4"),C=a(O),S=function(e){function t(e){l(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={shown:!1},n._shown=n.shown.bind(n),n._play=function(){return n.props.play(n.props.track)},n._focus=function(e){return n.props.focus(e)},n._select=function(){return n.props.selectTrack(n.props.track)},n}return u(t,e),c(t,[{key:"shown",value:function(){this.setState({shown:!0})}},{key:"render",value:function(){var e=this,t=this.props.track,n=this.props.selected,a=new Date(1e3*t.released_at),r=new Date(1e3*t.updated_at);return d.default.createElement(T.default,{onEnter:this._shown},d.default.createElement("div",{className:"track"+(n?" selected":""),onClick:this._select,ref:function(t){return t&&n&&e._focus(t)}},d.default.createElement("div",{className:"image"},d.default.createElement("div",{className:"artwork",style:this.state.shown?{backgroundImage:"url("+t.thumbnail_url+")"}:{}}),d.default.createElement("a",{href:t.track_view_url,rel:"nofollow",target:"_blank"},t.is_streamable?d.default.createElement("img",{src:"/image/JP_Listen_on_Apple_Music_Badge.svg"}):d.default.createElement("img",{src:"/image/Get_it_on_iTunes_Badge_JP_1214.svg"}))),d.default.createElement("div",{className:"meta"},d.default.createElement("h2",null,d.default.createElement("a",{href:t.track_view_url,rel:"nofollow",target:"_blank"},t.track_name)),d.default.createElement("a",{href:t.artist_view_url,rel:"nofollow",target:"_blank"},t.artist_name)," - ",d.default.createElement("a",{href:t.collection_view_url,rel:"nofollow",target:"_blank"},t.collection_name),d.default.createElement("br",null),d.default.createElement("span",{className:"genre"},d.default.createElement(N.Link,{to:"/genres/"+encodeURIComponent(t.genre_name)},t.genre_name)),"・",d.default.createElement("span",{className:"release"},a.getFullYear()),d.default.createElement("br",null),d.default.createElement("time",{dateTime:r.toISOString(),title:r.toISOString()},r.toLocaleString()),t.user&&d.default.createElement(L,{user:t.user})),d.default.createElement("div",{className:"play-button"},d.default.createElement("button",{onClick:this._play},"プレビュー")),d.default.createElement("div",{className:"clear"})))}}]),t}(d.default.PureComponent),P=(0,E.connect)(function(e,t){return{selected:e.app.pointer.active&&t.track===e.app.pointer.tracks[e.app.pointer.index]}},function(e){return o({},(0,m.bindActionCreators)(A,e))})(S),L=function(e){var t=e.user;return d.default.createElement("span",{className:"profile"},t.image_url?d.default.createElement(N.Link,{to:"/users/"+t.name},d.default.createElement("img",{src:""+t.image_url,alt:"@"+t.name}),d.default.createElement("span",{className:"name"},"@",t.name)):d.default.createElement("span",{className:"name"},"@",t.name))},I=function(e){function t(e){l(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._expand=function(){return n.props.expandAlbumSingle(n.props.tracks[0].collection_id)},n._playAll=function(){return n.props.playAll(n.props.tracks)},n._loadStarEntries=function(e){return window.Hatena.Star.EntryLoader.loadNewEntries(e)},n}return u(t,e),c(t,[{key:"render",value:function(){var e=this,t=r(this.props.tracks),n=t[0],a=t.slice(1);return d.default.createElement("div",{className:"album"+(this.props.isAlbumExpanded?" expanded":""),ref:function(t){return t&&e._loadStarEntries(t)}},d.default.createElement("div",{className:"album-meta"},d.default.createElement("h2",null,"「",n.collection_name,"」",d.default.createElement("button",{className:"play-button",onClick:this._playAll},"▶"))),d.default.createElement("div",{className:"album-tracks",key:"tracks"},d.default.createElement(P,{track:n,key:n.track_id}),a.map(function(t,n){return e.props.isAlbumExpanded?d.default.createElement(P,{track:t,key:t.track_id}):d.default.createElement("div",{className:"track dummy",style:{zIndex:-(n+1)},key:t.track_id})})),this.props.isAlbumExpanded||d.default.createElement("div",{className:"rest",key:"rest"},d.default.createElement("a",{onClick:this.props.isAlbumExpanded?this._collapse:this._expand},"他",a.length,"曲をみる")))}}]),t}(d.default.PureComponent),G=(0,E.connect)(function(e,t){var n=t.tracks[0].collection_id,a=e.app.list.albumExpandMap;return{isAlbumExpanded:t.expanded||a[n]||!1}},function(e){return o({},(0,m.bindActionCreators)(A,e))})(I),j=function(e){var t=e.tracks,n=e.albumExpanded;return t.reduce(function(e,t){0===e.length&&e.push([]);var n=e[e.length-1],a=n[n.length-1];return void 0===a||t.collection_id===a.collection_id?n.push(t):e.push([t]),e},[]).map(function(e){if(e.length>1){var t=e[e.length-1];return d.default.createElement(G,{tracks:e,expanded:n,key:t.collection_id+"-"+t.track_id})}var a=e[0];return d.default.createElement(P,{track:a,key:a.track_id})})},R=function(e){return e.tracks.map(function(e){return d.default.createElement(P,{track:e,key:e.track_id})})},D=function(e){var t=e.genre,n=e.user,a=e.artist,r=t||a;return d.default.createElement("header",null,d.default.createElement(w.Helmet,null,d.default.createElement("title",null,"聴いてる"+(r?" - "+r:"")+(n?" - @"+n:""))),d.default.createElement("h1",null,d.default.createElement(N.Link,{to:"/"},"聴いてる"),r&&" - "+r,n&&" - @"+n))},K=function(){return d.default.createElement("footer",null,"© 2016-2017 ",d.default.createElement("a",{href:"https://twitter.com/tomohi_ro"},"@tomohi_ro"))},U=function(e){function t(e){l(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tracks:[],nextPage:null},n.timer=null,n._fetchMoreTracks=n.fetchMoreTracks.bind(n),n._changeModeToTrack=function(){return n.props.changeListModeToTrack()},n._changeModeToAlbum=function(){return n.props.changeListModeToAlbum()},n._expandAlbum=function(){return n.props.expandAlbum()},n._collapseAlbum=function(){return n.props.collapseAlbum()},n._scrollToTop=function(){window.scrollTo(0,0),n.props.moveReset()},n._playAll=function(){return n.props.playAll(n.state.tracks)},n._clear=function(){return n.props.clear()},n._loadStarEntries=function(e){return window.Hatena.Star.EntryLoader.loadNewEntries(e)},n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchTracks(),this.timer=setInterval(function(){return e.fetchTracks()},1e4),this.props.moveReset()}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"fetchTracks",value:function(e){var t=this,n=void 0!==e,a=this.props.api+(n?"?page="+e:"");fetch(a).then(function(e){return e.json()}).then(function(e){return t.updateTracks(e,n)}).catch(function(){})}},{key:"updateTracks",value:function(e,t){var n=this.state.tracks[0],a=void 0===n,r=t?this.state.tracks.concat(e.tracks):a?e.tracks:e.tracks.filter(function(e){return e.updated_at>=n.updated_at&&e.track_id!==n.track_id}).concat(this.state.tracks),l=e.next_page||null,i=t?l:a?l:this.state.nextPage;this.setState({tracks:r,nextPage:i}),this.props.setupList(r)}},{key:"fetchMoreTracks",value:function(){var e=this.state.nextPage;null!==e&&(this.setState({nextPage:null}),this.fetchTracks(e))}},{key:"artistLink",value:function(){var e=this.state.tracks[0];return e?d.default.createElement("a",{href:e.artist_view_url,target:"_blank",rel:"nofollow"},e.artist_name):""}},{key:"render",value:function(){var e=this,t=this.props.user?"@"+this.props.user:"僕か僕の知り合い",n=this.props.genre||"",a=this.props.artist,r=[d.default.createElement("div",{id:"description",key:"description"},d.default.createElement("p",null,t,"が最近聴いた",n,a&&d.default.createElement("span",null," ",this.artistLink()," の"),this.state.tracks.length,"曲です。")),d.default.createElement("nav",{id:"menu",key:"menu"},d.default.createElement("ul",null,d.default.createElement("li",{className:"minimum"},d.default.createElement("button",{className:"play-button",onClick:this._playAll},"▶")),d.default.createElement("li",{className:"minimum"},d.default.createElement("button",{className:"stop-button",disabled:!this.props.playing,onClick:this.props.playing?this._clear:function(){}},"■")),d.default.createElement("li",null,d.default.createElement("button",{onClick:this.props.isAlbumMode?this._changeModeToTrack:this._changeModeToAlbum},this.props.isAlbumMode?"曲をならべる":"アルバムごとにまとめる")),this.props.isAlbumMode&&d.default.createElement("li",null,d.default.createElement("button",{onClick:this.props.isAlbumExpanded?this._collapseAlbum:this._expandAlbum},this.props.isAlbumExpanded?"アルバムを閉じる":"アルバムを開く")),d.default.createElement("li",null,d.default.createElement("button",{onClick:this._scrollToTop},"先頭にもどる")))),d.default.createElement("div",{id:"tracks",key:"tracks",ref:function(t){return e._loadStarEntries(t)}},this.props.isAlbumMode?d.default.createElement(j,{tracks:this.state.tracks,albumExpanded:this.props.isAlbumExpanded}):d.default.createElement(R,{tracks:this.state.tracks}))];return this.hasNext&&r.push(d.default.createElement(T.default,{key:"waypoint",bottomOffset:"-800px",onEnter:this._fetchMoreTracks},d.default.createElement("div",{className:"read-more"},d.default.createElement("a",{onClick:this._fetchMoreTracks},"もっとみる")))),r}},{key:"hasNext",get:function(){return null!==this.state.nextPage}}]),t}(d.default.PureComponent),H=(0,E.connect)(function(e){return{playing:e.app.play.currentTrack||e.app.play.playList.length>0,isAlbumMode:e.app.list.mode===A.listMode.album,isAlbumExpanded:e.app.list.albumMode===A.albumMode.expanded}},function(e){return o({},(0,m.bindActionCreators)(A,e))})(U),X=(0,E.connect)(function(e){return{genreNames:e.app.genre.names}})(function(e){var t=e.genreNames;return d.default.createElement("aside",{id:"genres"},d.default.createElement("ul",null,d.default.createElement("li",{key:"all"},d.default.createElement(N.NavLink,{exact:!0,to:"/",activeClassName:"current"},"すべて")),t.map(function(e){return d.default.createElement("li",{key:e},d.default.createElement(N.NavLink,{to:"/genres/"+encodeURIComponent(e),activeClassName:"current",isActive:function(t,n){return decodeURIComponent(n.pathname)==="/genres/"+e}},e))})))}),V=(0,E.connect)(function(e){return{track:e.app.play.currentTrack}},function(e){return o({},(0,m.bindActionCreators)(A,e))})(function(e){var t=e.track,n=e.playNext;return t?d.default.createElement("div",{id:"player",className:"track"},d.default.createElement("div",{className:"image"},d.default.createElement("div",{className:"artwork",style:{backgroundImage:"url("+t.thumbnail_url+")"}})),d.default.createElement("div",{className:"meta"},d.default.createElement("h2",null,d.default.createElement("a",{href:t.track_view_url,rel:"nofollow",target:"_blank"},t.track_name)),d.default.createElement("a",{href:t.artist_view_url,rel:"nofollow",target:"_blank"},t.artist_name)," - ",d.default.createElement("a",{href:t.collection_view_url,rel:"nofollow",target:"_blank"},t.collection_name),d.default.createElement("br",null),d.default.createElement("span",{className:"genre"},d.default.createElement(N.Link,{to:"/genres/"+encodeURIComponent(t.genre_name)},t.genre_name)),"・",d.default.createElement("span",{className:"release"},new Date(1e3*t.released_at).getFullYear()),d.default.createElement("br",null)),d.default.createElement("div",{className:"banner"},d.default.createElement("a",{href:t.track_view_url,rel:"nofollow",target:"_blank"},t.is_streamable?d.default.createElement("img",{src:"/image/JP_Listen_on_Apple_Music_Badge.svg"}):d.default.createElement("img",{src:"/image/Get_it_on_iTunes_Badge_JP_1214.svg"}))),d.default.createElement("div",{className:"clear"}),d.default.createElement("div",{className:"preview"},d.default.createElement("audio",{src:t.preview_url,controls:!0,ref:function(e){return e&&e.load()},onCanPlay:function(e){return e.target.play()},onPause:function(e){var t=e.target;t.duration<=t.currentTime&&n()}}),d.default.createElement("br",null),d.default.createElement("span",null,"provided courtesy of iTunes"))):d.default.createElement("noscript",null)}),Y=function(){return d.default.createElement("div",{id:"contents"},d.default.createElement("div",{id:"main"},d.default.createElement(D,null),d.default.createElement(H,{api:"/api/tracks"}),d.default.createElement(K,null)),d.default.createElement("div",{id:"side"},d.default.createElement(X,null)))},B=function(e){var t=e.match,n=t.params.genre,a=decodeURIComponent(n);return d.default.createElement("div",{id:"contents"},d.default.createElement("div",{id:"main"},d.default.createElement(D,{genre:a}),d.default.createElement(H,{key:n,genre:a,api:"/api/genres/"+n}),d.default.createElement(K,null)),d.default.createElement("div",{id:"side"},d.default.createElement(X,{key:n})))},F=function(e){var t=e.match,n=t.params.user;return d.default.createElement("div",{id:"contents"},d.default.createElement("div",{id:"main"},d.default.createElement(D,{user:n}),d.default.createElement(H,{key:n,user:n,api:"/api/users/"+n}),d.default.createElement(K,null)),d.default.createElement("div",{id:"side"},d.default.createElement(X,null)))},J=function(e){var t=e.match,n=t.params.artist,a=t.params.artist_id;return d.default.createElement("div",{id:"contents"},d.default.createElement("div",{id:"main"},d.default.createElement(D,{artist:n}),d.default.createElement(H,{key:a,artist:n,api:"/api/artists/"+a}),d.default.createElement(K,null)),d.default.createElement("div",{id:"side"},d.default.createElement(X,null)))},W=(0,E.connect)(function(e){return{shown:e.app.help.shown}},function(e){return o({},(0,m.bindActionCreators)(A,e))})(function(e){var t=e.shown,n=e.toggleHelp;return d.default.createElement(b.CSSTransition,{classNames:"popup-transition",timeout:50,in:t,mountOnEnter:!0,unmountOnExit:!0},d.default.createElement("div",{id:"keyboard-shortcut-help",className:"popup-dim",onClick:function(){return n()}},d.default.createElement("div",{className:"popup-content",onClick:function(e){return e.stopPropagation()}},d.default.createElement("article",{className:"help"},d.default.createElement("header",null,d.default.createElement("h1",null,"キーボードショートカット"),d.default.createElement("button",{onClick:function(){return n()}},"×")),d.default.createElement("div",{className:"help-contents"},d.default.createElement("section",{className:"move"},d.default.createElement("h2",null,"移動"),d.default.createElement("dl",null,d.default.createElement("dt",null,d.default.createElement("kbd",null,"J")),d.default.createElement("dd",null,"次の曲へ"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"K")),d.default.createElement("dd",null,"前の曲へ"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"G")),d.default.createElement("dd",null,"選択している曲のジャンルページへ移動"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"Shift")," + ",d.default.createElement("kbd",null,"G")),d.default.createElement("dd",null,"すべての曲へ移動"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"M")),d.default.createElement("dd",null,"選択している曲のアーティストページへ移動"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"Shift")," + ",d.default.createElement("kbd",null,"M")),d.default.createElement("dd",null,"すべての曲へ移動"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"U")),d.default.createElement("dd",null,"選択している曲を最後に聴いたユーザーのページへ移動"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"Shift")," + ",d.default.createElement("kbd",null,"U")),d.default.createElement("dd",null,"すべての曲へ移動"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"T")),d.default.createElement("dd",null,"先頭に移動"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"O")),d.default.createElement("dd",null,"開く"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"Shift")," + ",d.default.createElement("kbd",null,"O")),d.default.createElement("dd",null,"再生中の曲を開く"))),d.default.createElement("section",{className:"play"},d.default.createElement("h2",null,"再生"),d.default.createElement("dl",null,d.default.createElement("dt",null,d.default.createElement("kbd",null,"P")),d.default.createElement("dd",null,"シャッフル再生"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"Shift")," + ",d.default.createElement("kbd",null,"P")),d.default.createElement("dd",null,"選択しているアーティストをシャッフル再生"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"Enter")),d.default.createElement("dd",null,"選択している曲を再生"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"Shift")," + ",d.default.createElement("kbd",null,"Enter")),d.default.createElement("dd",null,"選択しているアルバムをシャッフル再生"),d.default.createElement("dt",null,d.default.createElement("kbd",null,".")," / ",d.default.createElement("kbd",null,"S")," / ",d.default.createElement("kbd",null,"Escape")),d.default.createElement("dd",null,"停止"))),d.default.createElement("section",{className:"list"},d.default.createElement("h2",null,"リスト操作"),d.default.createElement("dl",null,d.default.createElement("dt",null,d.default.createElement("kbd",null,"A")),d.default.createElement("dd",null,"アルバム表示をトグル"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"Shift")," + ",d.default.createElement("kbd",null,"A")),d.default.createElement("dd",null,"全アルバムの曲展開をトグル"),d.default.createElement("dt",null,d.default.createElement("kbd",null,"L")),d.default.createElement("dd",null,"アルバムの曲展開をトグル"))))))))}),q=function(){return d.default.createElement("div",null,d.default.createElement(N.Switch,null,d.default.createElement(N.Route,{exact:!0,path:"/",component:Y}),d.default.createElement(N.Route,{path:"/genres/:genre+",component:B}),d.default.createElement(N.Route,{path:"/users/:user",component:F}),d.default.createElement(N.Route,{path:"/artists/:artist+/:artist_id",component:J})),d.default.createElement(V,null),d.default.createElement(W,null))},z=(0,k.default)(),Q=(0,m.createStore)((0,m.combineReducers)({app:C.default,router:h.routerReducer}),(0,g.composeWithDevTools)((0,m.applyMiddleware)(_.default,(0,h.routerMiddleware)(z))));Q.dispatch(A.fetchGenres()),Q.dispatch(A.watchKeyboard()),p.default.render(d.default.createElement(E.Provider,{store:Q},d.default.createElement(h.ConnectedRouter,{history:z},d.default.createElement(N.Router,{history:z},d.default.createElement(q,null)))),document.getElementById("container"))},QzNM:function(e,t,n){"use strict";function a(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=a;var r=n("KSGD"),l=function(e){return e&&e.__esModule?e:{default:e}}(r);t.timeoutsShape=l.default.oneOfType([l.default.number,l.default.shape({enter:l.default.number,exit:l.default.number}).isRequired]),t.classNamesShape=l.default.oneOfType([l.default.string,l.default.shape({enter:l.default.string,exit:l.default.string,active:l.default.string}),l.default.shape({enter:l.default.string,enterActive:l.default.string,exit:l.default.string,exitActive:l.default.string})])},TAxY:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(){}t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var c=n("KSGD"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),d=n("GiK3"),f=a(d),p=n("O27J"),m=a(p),E=(n("QzNM"),t.UNMOUNTED="unmounted"),h=t.EXITED="exited",v=t.ENTERING="entering",_=t.ENTERED="entered",b=t.EXITING="exiting",y=function(e){function t(n,a){l(this,t);var r=i(this,e.call(this,n,a)),u=a.transitionGroup,o=u&&!u.isMounting?n.enter:n.appear,c=void 0;return r.nextStatus=null,n.in?o?(c=h,r.nextStatus=v):c=_:c=n.unmountOnExit||n.mountOnEnter?E:h,r.state={status:c},r.nextCallback=null,r}return u(t,e),t.prototype.getChildContext=function(){return{transitionGroup:null}},t.prototype.componentDidMount=function(){this.updateStatus(!0)},t.prototype.componentWillReceiveProps=function(e){var t=this.pendingState||this.state,n=t.status;e.in?(n===E&&this.setState({status:h}),n!==v&&n!==_&&(this.nextStatus=v)):n!==v&&n!==_||(this.nextStatus=b)},t.prototype.componentDidUpdate=function(){this.updateStatus()},t.prototype.componentWillUnmount=function(){this.cancelNextCallback()},t.prototype.getTimeouts=function(){var e=this.props.timeout,t=void 0,n=void 0,a=void 0;return t=n=a=e,null!=e&&"number"!=typeof e&&(t=e.exit,n=e.enter,a=e.appear),{exit:t,enter:n,appear:a}},t.prototype.updateStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nextStatus;if(null!==t){this.nextStatus=null,this.cancelNextCallback();var n=m.default.findDOMNode(this);t===v?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===h&&this.setState({status:E})},t.prototype.performEnter=function(e,t){var n=this,a=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,l=this.getTimeouts();if(!t&&!a)return void this.safeSetState({status:_},function(){n.props.onEntered(e)});this.props.onEnter(e,r),this.safeSetState({status:v},function(){n.props.onEntering(e,r),n.onTransitionEnd(e,l.enter,function(){n.safeSetState({status:_},function(){n.props.onEntered(e,r)})})})},t.prototype.performExit=function(e){var t=this,n=this.props.exit,a=this.getTimeouts();if(!n)return void this.safeSetState({status:h},function(){t.props.onExited(e)});this.props.onExit(e),this.safeSetState({status:b},function(){t.props.onExiting(e),t.onTransitionEnd(e,a.exit,function(){t.safeSetState({status:h},function(){t.props.onExited(e)})})})},t.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.prototype.safeSetState=function(e,t){var n=this;this.pendingState=e,t=this.setNextCallback(t),this.setState(e,function(){n.pendingState=null,t()})},t.prototype.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},t.prototype.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},t.prototype.render=function(){var e=this.state.status;if(e===E)return null;var t=this.props,n=t.children,a=r(t,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,"function"==typeof n)return n(e,a);var l=f.default.Children.only(n);return f.default.cloneElement(l,a)},t}(f.default.Component);y.contextTypes={transitionGroup:s.object},y.childContextTypes={transitionGroup:function(){}},y.propTypes={},y.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:o,onEntering:o,onEntered:o,onExit:o,onExiting:o,onExited:o},y.UNMOUNTED=0,y.EXITED=1,y.ENTERING=2,y.ENTERED=3,y.EXITING=4,t.default=y},UVf0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n("4JXe"),l=a(r),i=n("tW2u"),u=a(i),o=n("TAxY"),c=a(o);e.exports={Transition:c.default,TransitionGroup:u.default,CSSTransition:l.default}},VbiM:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(){function e(){a(this,e)}return r(e,[{key:"set",value:function(e,t){try{localStorage.setItem(e,t)}catch(e){}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return localStorage.getItem(e)||t}}]),e}();t.default=new l},hvFc:function(e,t){},tW2u:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=n("KSGD"),s=a(c),d=n("GiK3"),f=a(d),p=n("1olO"),m=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},E=(s.default.any,s.default.node,s.default.bool,s.default.bool,s.default.bool,s.default.func,{component:"div",childFactory:function(e){return e}}),h=function(e){function t(n,a){l(this,t);var r=i(this,e.call(this,n,a));return r.handleExited=function(e,t,n){var a=(0,p.getChildMapping)(r.props.children);e in a||(n&&n(t),r.setState(function(t){var n=o({},t.children);return delete n[e],{children:n}}))},r.state={children:(0,p.getChildMapping)(n.children,function(e){var t=function(t){r.handleExited(e.key,t,e.props.onExited)};return(0,d.cloneElement)(e,{onExited:t,in:!0,appear:r.getProp(e,"appear"),enter:r.getProp(e,"enter"),exit:r.getProp(e,"exit")})})},r}return u(t,e),t.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},t.prototype.getProp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return null!=n[t]?n[t]:e.props[t]},t.prototype.componentDidMount=function(){this.appeared=!0},t.prototype.componentWillReceiveProps=function(e){var t=this,n=this.state.children,a=(0,p.getChildMapping)(e.children),r=(0,p.mergeChildMappings)(n,a);Object.keys(r).forEach(function(l){var i=r[l];if((0,d.isValidElement)(i)){var u=function(e){t.handleExited(i.key,e,i.props.onExited)},o=l in n,c=l in a,s=n[l],f=(0,d.isValidElement)(s)&&!s.props.in;!c||o&&!f?c||!o||f?c&&o&&(0,d.isValidElement)(s)&&(r[l]=(0,d.cloneElement)(i,{onExited:u,in:s.props.in,exit:t.getProp(i,"exit",e),enter:t.getProp(i,"enter",e)})):r[l]=(0,d.cloneElement)(i,{in:!1}):r[l]=(0,d.cloneElement)(i,{onExited:u,in:!0,exit:t.getProp(i,"exit",e),enter:t.getProp(i,"enter",e)})}}),this.setState({children:r})},t.prototype.render=function(){var e=this.props,t=e.component,n=e.childFactory,a=r(e,["component","childFactory"]),l=this.state.children;return delete a.appear,delete a.enter,delete a.exit,f.default.createElement(t,a,m(l).map(n))},t}(f.default.Component);h.childContextTypes={transitionGroup:s.default.object.isRequired},h.propTypes={},h.defaultProps=E,t.default=h,e.exports=t.default}},["NF59"]);